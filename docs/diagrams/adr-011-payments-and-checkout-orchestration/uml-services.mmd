```mermaid
classDiagram
    class CheckoutCoordinator {
        +createIntent(cart)
        +handleProviderSelection()
    }
    class StripePaymentManager {
        +createPaymentIntent(data)
        +attachPaymentMethod()
        +confirm()
        +enableWallets(domains)
        +tagWalletMetadata(intent)
    }
    class PayuPaymentManager {
        +registerOrder(data)
        +authorizeBlik(code)
        +status()
    }
    class P24PaymentManager {
        +registerTransaction(data)
        +verifySignature()
    }
    class WebhookProcessor {
        +normalizePayload()
        +updateLedger()
        +triggerFulfillment()
    }
    class OpsHubPaymentsModule {
        +displayHealth()
        +retryWebhook(provider, id)
        +requestRefund(intentId)
        +logAudit(action)
    }
    CheckoutCoordinator --> StripePaymentManager
    CheckoutCoordinator --> PayuPaymentManager
    CheckoutCoordinator --> P24PaymentManager
    WebhookProcessor --> StripePaymentManager
    WebhookProcessor --> PayuPaymentManager
    WebhookProcessor --> P24PaymentManager
    OpsHubPaymentsModule --> WebhookProcessor
    OpsHubPaymentsModule --> StripePaymentManager
    OpsHubPaymentsModule --> PayuPaymentManager
    OpsHubPaymentsModule --> P24PaymentManager
```
